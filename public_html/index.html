<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Primitiva</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="main.css"/>
    </head>
    <body>
        <div id="app"></div>
        <span class="error-message"></span>
        
        <script src="main.js"></script>
        <script>
            const numberOfElements = 7;
            
            let numbers = [];
            let output = '';
            for (let i = 0; i < numberOfElements; i++) {
                output += '<input id="' + i + '" type="number" class="number" min="1" max="49">';
            }
            
            document.getElementById('app').innerHTML = output;
            
            // number fields
            let inputs = document.querySelectorAll('.number');
            
            // listen for events
            inputs.forEach(input => {
                input.addEventListener('blur', e => {
                    console.log('value: ', e.target.value);
                    if (e.target.value < 1 || e.target.value > 49) {
//                        alert('invalid value');
                    } else {
                        let myNumber = e.target.value;
                        console.log(myNumber);
                        console.log(numbers);
                        let isInArray = isNumberInArray(numbers.slice(0, numberOfElements - 1), myNumber);
                        console.log('in array? ', isInArray);
                        
                        if (!isInArray) {
                            numbers[e.target.id] = myNumber;
                        } else {
                            document.querySelector('.error-message').innerHTML = myNumber + ' is already in the array';
                            document.getElementById(e.target.id).value = '';
                        }
                        
                        console.log(numbers);
                    }
                    
//                    console.log(numbers);
                });
            });
            
//            if (repeat) {
//                console.log('numbers are repeated!')
//            } else {
//                console.log('numbers are ok')
//            }
//            console.log(numbers);
//            document.addEventListener('click', () => {
//                document.getElementsByClassName('casilla')
//            })

            

        </script>
<!--        <form name="formu" method="POST">
            <fieldset style="width: 400px;">
                <label>NÃºmeros</label>
                <div id="app"></div>
            </fieldset>
            <fieldset style="width: 150px;">
                <label>Reintegro</label>
                <input type="number" name="num[]" value="" style="width: 45px;" id="n6" min="0" max="9" onblur="estabienreintegro('n6')">
            </fieldset>
        </form>
        <br>
        <input type="button" name="boton" value="Comprobar" onclick="comprobar()">-->
    </body>
</html>
